<div class="container">
  <h2>{{ isEditMode ? 'Editar Livro' : 'Cadastrar Novo Livro' }}</h2>

  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Título:</label>
      <input type="text" [(ngModel)]="livro.titulo" name="titulo" required>
    </div>

    <div class="form-group">
      <label>ISBN:</label>
      <input type="text" [(ngModel)]="livro.isbn" name="isbn" required>
    </div>

    <div class="form-group">
      <label>Autor:</label>
      <input type="text" [(ngModel)]="livro.autor" name="autor" required>
    </div>

    <div class="form-group">
      <label>Sinopse:</label>
      <textarea [(ngModel)]="livro.sinopse" name="sinopse" rows="4"></textarea>
    </div>

    <div class="form-group">
      <label>Foto (URL):</label>
      <input type="text" [(ngModel)]="livro.fotoPath" name="fotoPath">
    </div>

    <div class="form-group">
      <label>Gênero:</label>
      <select [(ngModel)]="livro.genero" name="genero" required>
        <option *ngFor="let genero of generos" [value]="genero.id">{{genero.nome}}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Editora:</label>
      <select [(ngModel)]="livro.editora" name="editora" required>
        <option *ngFor="let editora of editoras" [value]="editora.id">{{editora.nome}}</option>
      </select>
    </div>

    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

    <button type="submit" [disabled]="isLoading">
      {{ isLoading ? 'Salvando...' : (isEditMode ? 'Atualizar' : 'Salvar') }}
    </button>
    <button type="button" (click)="router.navigate(['/livros'])">Cancelar</button>
  </form>
</div>